
## 适配器模式

### 定义

适配器，其实很好理解，生活中也随处可见，比如电源适配器、usb 适配器等等,那么适配器模式，也被称为Wrapper模式。

Wrapper有“包装器”的意思，适配器模式的定义是:**将一个接口转换成客户希望的另一个接口，使接口不兼容的那些类可以一起工作，解决的痛点便是因接口不兼容导致的类不能正常工作的问题。**

![](http://www.liuanqihappybirthday.top/uploads/big/1b3391b9b7e5100614206acbc732e90b.png)

如上图所示，A、B代表已经成型的物体，如果这两个物体想要安装在一起，因为两者接口不兼容，不可能直接安装在一起，这时候怎么办？我们就可以通过引入一个物体C，物体C既要适配A也要适配B的接口。

什么时候使用适配器模式，从上面的案例我们也可以看出一点端倪:

● 现有的类或接口不能满足需求，且一般无法直接修改现有类或接口。比方该类为三方提供，就无法修改，亦或者像A、B这种已经塑模成型的物件，可能已大规模在使用中，所以不允许修改。

● 想要建立一个可以重复使用的类，用于与-些彼此之间没有太大关联的一些类，包括-些可能在将来引进的类一起工作，这些源类不一定有一致的接口。

### 组成角色

![](http://www.liuanqihappybirthday.top/uploads/big/38243f22a6520b11632da2da23d054dc.png)

●目标角色(Target) :该角色定义把其它类转换为何种接口，也就是我们的期望接口，可以是一个抽象类或接口，也可以是具体类。

●适配器角色(Adapter) :适配器可以调用另-一个接口，作为一个转换器，对Adaptee和Target进行适配，适配器类是适配器模式的核心，通常都是一个具体的类。

●源角色(被适配Adaptee) :你想把谁转换成目标角色，这个“谁”就是源角色，它是已经存在的、运行良好的类或对象，经过适配器角色的包装，它会成为一个崭新、靓丽的角色。

●请求者(Client) :该角色负责使用Target定义的方法进行具体处理。

### 类适配器（使用继承）

![](http://www.liuanqihappybirthday.top/uploads/big/0feccc9fa922530048ee1d88bd06fcf5.png)

### 优缺点

主要优点:
●将目标类和适配者类解耦，通过引入一个适配器类来重用现有的适配者类，无须修改原有结构;

●增加了类的透明性和复用性，将具体的业务实现过程封装在适配者类中，对于客户端类而言是透明的，而且提高了适配者的复用性，同一个适配者类可以在多个不同的系统中复用;

●可以将两个互不相干的类关联在一起;

●增强系统灵活性。

主要缺点:
●类适配器对于Java、C#等不支持多重类继承的语言，一次最多只能适配一个适配者类，不能同时适配多个适配者。

### 总结

![](https://img.mukewang.com/5db14584000195ff06350366.png)